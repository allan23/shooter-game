!function(t){var o={};function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:e})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,o){if(1&o&&(t=i(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var n in t)i.d(e,n,function(o){return t[o]}.bind(null,n));return e},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},i.p="",i(i.s=6)}([function(t,o,i){"use strict";o.__esModule=!0;var e=function(){function t(t,o,i,e){this.position={x:20,y:20},this.xMove=20,this.yMove=20,this.killMe=!1,this.collisionDetected=!1,this.type="component",this.color="#000",this.border="#fff",this.hasBorder=!0,this.adds=[],this.lifeTime=25,this.immortal=!0,this.width=t,this.height=o,this.position={x:i,y:e}}return t.prototype.update=function(t,o){},t.prototype.move=function(t){},t.prototype.borderCollision=function(){this.collisionDetected=!1,this.position.x>=640-this.width&&(this.position.x-=5,this.collisionDetected=!0),this.position.x<=0&&(this.position.x+=5,this.collisionDetected=!0),this.position.y>=480-(this.height+50)&&(this.position.y-=5,this.collisionDetected=!0),this.position.y<=0&&(this.position.y+=5,this.collisionDetected=!0)},t.prototype.draw=function(t){this.drawBorder(t),t.fillStyle=this.color,t.fillRect(this.position.x,this.position.y,this.width,this.height)},t.prototype.drawBorder=function(t){this.hasBorder&&(t.fillStyle=this.border,t.fillRect(this.position.x-1,this.position.y-1,this.width+2,this.height+2))},t.prototype.collision=function(t){},t.prototype.setMoves=function(t,o){this.xMove=t,this.yMove=o},t.prototype.destroy=function(t,o){return t},t}();o.default=e},function(t,o,i){"use strict";var e,n=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(t,o)},function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)});o.__esModule=!0;var s=function(t){function o(o,i,e,n){var s=t.call(this,o,i,e,n)||this;return s.type="particle",s.baseColor="#f0f",s.altColor="#fff",s.border="#000",s.xMove=35,s.yMove=35,s}return n(o,t),o.prototype.move=function(t){this.position.x+=this.xMove/t,this.position.y+=this.yMove/t,this.collisionDetected&&(this.killMe=!0),this.color=this.color===this.baseColor?this.altColor:this.baseColor},o.prototype.update=function(t,o){t&&(this.move(t),this.borderCollision(),this.immortal||(this.lifeTime--,this.lifeTime<=0&&(this.killMe=!0)))},o.prototype.collision=function(t){"enemy"===t.type&&(this.killMe=!0)},o}(i(0).default);o.default=s},function(t,o,i){"use strict";o.__esModule=!0;var e=function(){return function(){this.canvas=document.getElementById("gameScreen"),this.ctx=this.canvas.getContext("2d")}}();o.default=e},function(t,o,i){"use strict";var e,n=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(t,o)},function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)});o.__esModule=!0;var s=i(0),r=i(1),h=function(t){function o(o,i,e,n){var s=t.call(this,o,i,e,n)||this;return s.type="enemy",s.color="#cfc",s.hasBorder=!0,s.goingDown=!0,s.goingLeft=!0,s.xMove=10,s.yMove=10,s.maxSpeed=60,s}return n(o,t),o.prototype.move=function(t){this.goingDown?this.position.y+=this.yMove/t:this.position.y-=this.yMove/t,this.position.x<50&&(this.goingLeft=!1,this.position.x+=20),this.position.x>620&&(this.goingLeft=!0,this.position.x-=20),this.goingLeft?this.position.x-=this.xMove/t:this.position.x+=this.xMove/t},o.prototype.slowDown=function(t){this.yMove<0&&(this.yMove=0),0!==this.yMove&&(this.yMove-=2/t)},o.prototype.speedUp=function(t){this.yMove>this.maxSpeed&&(this.yMove=this.maxSpeed),this.yMove!==this.maxSpeed&&(this.yMove+=20/t)},o.prototype.chasePlayer=function(t){this.goingLeft=t.x<this.position.x,this.goingDown=t.y>this.position.y},o.prototype.update=function(t,o){t&&(this.chasePlayer(o.playerPos),this.move(t),this.borderCollision(),this.immortal||(this.lifeTime--,this.lifeTime<=0&&(this.killMe=!0)))},o.prototype.collision=function(t){"particle"===t.type&&(this.killMe=!0)},o.prototype.destroy=function(t,o){for(var i=new r.default(5,5,this.position.x,this.position.y),e=0;e<3;e++)(i=new r.default(5,5,this.position.x,this.position.y)).color=2===e?"#000":"#fff",i.yMove=-(i.yMove-e/o),i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color=2===e?"#000":"#fff",i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color=2===e?"#000":"#fff",i.xMove=-(i.yMove-e/o),i.yMove=-(i.yMove-e/o),i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color=2===e?"#000":"#fff",i.xMove=-(i.yMove-e/o),i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color="#ffa500",i.yMove=-(i.yMove-e/o),i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color="#ffa500",i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color="#ffa500",i.xMove=-(i.yMove-e/o),i.yMove=-(i.yMove-e/o),i.immortal=!1,t.push(i),(i=new r.default(5,5,this.position.x,this.position.y)).color="#ffa500",i.xMove=-(i.yMove-e/o),i.immortal=!1,t.push(i);return t},o}(s.default);o.default=h},function(t,o,i){"use strict";var e,n=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(t,o)},function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)});o.__esModule=!0;var s=i(0),r=i(7),h=i(1),p=function(t){function o(o,i,e,n){var s=t.call(this,o,i,e,n)||this;return s.type="player",s.xMove=50,s.yMove=50,s.shootDelay=20,s.currentDelay=0,s.keyboard=new r.default,s}return n(o,t),o.prototype.move=function(t){this.keyboard.left&&(this.position.x-=this.xMove/t),this.keyboard.right&&(this.position.x+=this.xMove/t),this.keyboard.up&&(this.position.y-=this.yMove/t),this.keyboard.down&&(this.position.y+=this.yMove/t)},o.prototype.update=function(t,o){t&&(this.maybeShoot(t),this.move(t),this.borderCollision())},o.prototype.maybeShoot=function(t){this.keyboard.shoot&&0===this.currentDelay&&(this.adds.push(new h.default(3,3,this.position.x+this.width,this.position.y+this.height)),this.currentDelay=this.shootDelay),0!==this.currentDelay&&this.currentDelay--},o.prototype.collision=function(t){"enemy"===t.type&&(this.position.x=20,this.position.y=20)},o}(s.default);o.default=p},function(t,o,i){"use strict";o.__esModule=!0;var e=function(){function t(){this.components=[],this.adds=[],this.counts={},this.enemyCount=0,this.playerPos={x:20,y:20}}return t.prototype.add=function(t){this.adds.push(t)},t.prototype.update=function(t,o){this.finalAdds(),this.counts={},this.enemyCount=0;for(var i=0;i<this.components.length;i++)this.components[i].killMe?(this.adds=this.components[i].destroy(this.adds,t),this.components.splice(i,1)):(this.components[i].update(t,this),this.components[i].draw(o.ctx),this.processAdds(i),"player"===this.components[i].type&&(this.playerPos=this.components[i].position),"enemy"===this.components[i].type&&this.enemyCount++,this.checkCollision(i),this.counts[this.components[i].type]++)},t.prototype.finalAdds=function(){for(var t=0;t<this.adds.length;t++)this.components.push(this.adds[t]);this.adds=[]},t.prototype.processAdds=function(t){for(var o=0;o<this.components[t].adds.length;o++)this.components.push(this.components[t].adds[o]),this.components[t].adds.splice(o,1)},t.prototype.checkCollision=function(t){var o=this.components[t];if("component"!==o.type)for(var i=Math.ceil(o.position.x),e=Math.ceil(o.position.y),n=i;n<i+o.width;n++)for(var s=e;s<e+o.height;s++)this.doCheck(t,n,s)},t.prototype.doCheck=function(t,o,i){for(var e=0;e<this.components.length;e++)if(e!==t)for(var n=this.components[e],s=Math.ceil(n.position.x),r=Math.ceil(n.position.y),h=s;h<s+n.width;h++)for(var p=r;p<r+n.height;p++)if(h===o&&p===i){this.components[t].collision(this.components[e]);break}},t.prototype.getCountByType=function(t){return this.counts[t]},t.prototype.getEnemyCount=function(){return this.enemyCount},t}();o.default=e},function(t,o,i){"use strict";i.r(o);var e=i(2),n=i.n(e),s=(i(5),i(8)),r=i.n(s);i(9);let h=new n.a,p=new r.a,c=0;!function t(o){let i=o-c;c=o,h.ctx.clearRect(0,0,640,480),h.ctx.fillStyle="#c0c0c0",h.ctx.fillRect(0,0,640,480),p.update(i,h),requestAnimationFrame(t)}(c)},function(t,o,i){"use strict";o.__esModule=!0;var e=function(){function t(){var t=this;this.left=!1,this.right=!1,this.up=!1,this.down=!1,this.shoot=!1,document.addEventListener("keydown",function(o){t.keyDownHandler(o)},!1),document.addEventListener("keyup",function(o){t.keyUpHandler(o)},!1)}return t.prototype.keyDownHandler=function(t){switch(t.keyCode){case 39:this.right=!0;break;case 37:this.left=!0;break;case 40:this.down=!0;break;case 38:this.up=!0;break;case 32:this.shoot=!0}},t.prototype.keyUpHandler=function(t){switch(t.keyCode){case 39:this.right=!1;break;case 37:this.left=!1;break;case 40:this.down=!1;break;case 38:this.up=!1;break;case 32:this.shoot=!1}},t}();o.default=e},function(t,o,i){"use strict";var e,n=this&&this.__extends||(e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])})(t,o)},function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)});o.__esModule=!0;var s=i(3),r=i(4),h=i(0),p=function(t){function o(){var o=t.call(this)||this;o.ebX=580,o.ebY=400,o.spawnDelay=10,o.spawnCount=10,o.maxEnemies=2,o.enemyBase(),o.playerBase();return o.spawnEnemy(),o}return n(o,t),o.prototype.playerBase=function(){var t=new h.default(40,40,10,10);t.color="#ffc",this.handler.add(t),this.handler.add(new r.default(20,20,20,20))},o.prototype.enemyBase=function(){var t=new h.default(40,40,this.ebX,this.ebY);t.color="#00f",this.handler.add(t)},o.prototype.spawnEnemy=function(){this.handler.add(new s.default(20,20,this.ebX+10,this.ebY+10))},o.prototype.update=function(t,o){this.spawnCount-=1/t,this.spawnCount<=0&&this.maxEnemies<this.handler.getEnemyCount()&&(this.spawnEnemy(),this.spawnCount=this.spawnDelay),this.handler.update(t,o)},o}(i(11).default);o.default=p},function(t,o,i){"use strict";o.__esModule=!0;var e=i(3),n=i(4),s=function(){return function(t){t.add(new n.default(20,20,20,20));var o=100,i=0;setInterval(function(){if(!(i>10)){var n=new e.default(20,20,o,20);n.color="#fff",t.add(n),i++,o>620?o-=40:o+=40}},1e3)}}();o.default=s},,function(t,o,i){"use strict";o.__esModule=!0;var e=i(5),n=function(){function t(){this.handler=new e.default}return t.prototype.update=function(t,o){this.handler.update(t,o)},t}();o.default=n}]);
//# sourceMappingURL=main.min.js.map